<?xml version="1.0"?>

<!-- Body coordinates are: x forward, y left, z up; rotation is: roll right, pitch forward, yaw left -->
<!-- See http://www.ros.org/reps/rep-0103.html -->

<robot name="tello">

  <!-- Materials -->
  <material name="gray"><color rgba="0.5 0.5 0.5 1.0"/></material>
  <material name="white"><color rgba="0.9 0.9 0.9 1.0"/></material>
  <material name="red"><color rgba="1.0 0 0 1.0"/></material>

  <!-- Base link -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0.01"/>
      <geometry><box size="0.07 0.02 0.02"/></geometry>
      <material name="white"/>
    </visual>
    <visual>
      <origin xyz="0 0 -0.01"/>
      <geometry><box size="0.07 0.02 0.02"/></geometry>
      <material name="gray"/>
    </visual>
    <visual>
      <origin xyz="0.05 -0.05 0"/>
      <geometry><cylinder length="0.01" radius="0.045"/></geometry>
      <material name="gray"/>
    </visual>
    <visual>
      <origin xyz="-0.05 0.05 0"/>
      <geometry><cylinder length="0.01" radius="0.045"/></geometry>
      <material name="gray"/>
    </visual>
    <visual>
      <origin xyz="-0.05 -0.05 0"/>
      <geometry><cylinder length="0.01" radius="0.045"/></geometry>
      <material name="gray"/>
    </visual>
    <visual>
      <origin xyz="0.05 0.05 0"/>
      <geometry><cylinder length="0.01" radius="0.045"/></geometry>
      <material name="gray"/>
    </visual>
    <inertial>
      <mass value="0.1"/>
      <!-- Tensor for solid cuboid 18cm x 18cm x 5cm high -->
      <inertia ixx="0.000290833" ixy="0" ixz="0" iyy="0.00054" iyz="0" izz="0.000290833"/>
    </inertial>
    <collision name="collision">
      <geometry><box size="0.18 0.18 0.05"/></geometry>
    </collision>
  </link>

  <!-- Camera frame -->
  <link name="camera_frame">
    <visual>
      <origin xyz="0 0 0"/>
      <geometry><sphere radius="0.01"/></geometry>
      <material name="red"/>
    </visual>
  </link>

  <!-- Fixed joint -->
  <joint name="camera_joint" type="fixed">
    <origin xyz="0.035 0 0" rpy="1.5708 3.1416 1.5708"/>
    <parent link="base_link"/>
    <child link="camera_frame"/>
  </joint>

  <!-- Gazebo plugin -->
  <gazebo>
    <plugin name="TelloPlugin" filename="libTelloPlugin.so">
      <link_name>base_link</link_name>
      <center_of_mass>0 0 0</center_of_mass>
    </plugin>
  </gazebo>

</robot>
